## Веб-клиент

Фронтенд повторяет поведение телеграм-бота (`src/app/api/telegram/bot.py`), но добавляет:

- предпросмотр CSV-отчета прямо в интерфейсе (таблица + кнопка скачивания);
- инлайн-отображение сохраненных изображений (plot.png);
- сохранение диалога в рамках одной браузерной сессии (история очищается после закрытия вкладки).

### 1. Запуск backend API

В отдельном терминале поднимите FastAPI-приложение:

```bash
uv run uvicorn src.app.api.web.server:app --reload --host 0.0.0.0 --port 8000
```

> При необходимости укажите свои переменные окружения (LLM, Langfuse, и т.д.) перед запуском.

### 2. Запуск фронтенда

1. Перейдите в папку `frontend`.
2. Запустите любой статический сервер, например:

   ```bash
   python -m http.server 4173
   ```

3. Откройте `http://localhost:4173/index.html` в браузере.

Можно также просто открыть `frontend/index.html` двойным кликом ― все запросы идут к API по адресу `http://localhost:8000`.

### 3. Настройка адреса API

При необходимости поменяйте базовый URL внизу файла `frontend/index.html`:

```html
<script>
  window.APP_CONFIG = {
    apiBaseUrl: "http://localhost:8000",
  };
</script>
```

### 4. Что происходит при запросе

1. Сообщение отправляется в `POST /api/chat`.
2. Сервер запускает `run_agent`, читает `src/app/resourses/report.csv` и `plot.png` (если они сформированы).
3. Ответ бота появляется в истории, в нём отображается текст, таблица и изображение; кнопки «Скачать» ведут на ваши эндпоинты `/api/download/csv` и `/api/download/png`.
